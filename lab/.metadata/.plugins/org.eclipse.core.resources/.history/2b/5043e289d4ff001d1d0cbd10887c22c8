create table student (
    s_id    	varchar2(10) NOT NULL,
    s_name  	varchar2(30) NOT NULL,
    s_grade 	number       NOT NULL,
    s_major 	varchar2(30) NOT NULL,
    s_pwd   	varchar2(20) NOT NULL,
    s_email 	varchar2(50),
    s_phone 	varchar2(15),
    s_address 	varchar2(50),
    CONSTRAINT stu_pk PRIMARY KEY (s_id)
);

insert into student values ('2012345', '김소미', 3, '컴퓨터과학전공', 'a1245', 'som45@sm.ac.kr', '010-2837-2993', '서울시 강서구');
insert into student values ('2212346', '이서연', 2, '소프트웨어융합전공', 'asdo37', 'seoseo@sm.ac.kr', '010-2111-2020', '서울시 강북구');
insert into student values ('2112347', '박수진', 3, '데이터사이언스전공', 'hihihi', 'jjin11@sm.ac.kr', '010-0999-2823', '서울시 강남구');
insert into student values ('2012348', '정채영', 4, '컴퓨터과학전공', 'jung01', 'youngirl@sm.ac.kr', '010-1234-4833', '서울시 강동구');
insert into student values ('2012001', '유미래', 1, '기초공학부', 'miraeya', 'future00@sm.ac.kr', '010-1324-5325', '서울시 종로구');

create table professor (
    p_id    varchar2(10) NOT NULL,
    p_name  varchar2(30) NOT NULL,
    p_pwd 	varchar2(20) NOT NULL,
    p_major varchar2(30),
    p_phone	varchar2(10),
    p_loc	varchar2(20),
    CONSTRAINT pro_pk PRIMARY KEY (p_id)
);

insert into professor values ('56789', 'a0000', '이현자', '소프트웨어학부', '02-3442-9384', '새힘-402');
insert into professor values ('56783', 'ky111', '이기용', '소프트웨어학부', '02-1119-0820', '새힘-406');
insert into professor values ('39230', 'yik', '여인권', '통계학과', '02-0919-1112', '사회-502');
insert into professor values ('23934', 'hihi', '김유경', '기초공학부', '02-0973-9999', '르네상스-304');

create table course (
    c_id    varchar2(20) NOT NULL,
    c_id_no number       NOT NULL,
    c_name  varchar2(50) NOT NULL,
    c_unit  number       NOT NULL,
    c_major varchar2(30),
    c_grade number,
    CONSTRAINT cs_pk PRIMARY KEY (c_id, c_id_no)
);

insert into course values ('102934', 001, '데이터베이스프로그래밍', 3, '소프트웨어학부', 3);
insert into course values ('102229', 002, '데이터마이닝및분석', 3, '소프트웨어학부', 3);
insert into course values ('102119', 001, '빅데이터통계분석', 3, '통계학과', 4);
insert into course values ('101098', 001, '프로그래밍입문', 3, '기초공학부', 1);

create table teach (
    t_id        varchar2(10)    NOT NULL,
    t_year      number          NOT NULL,
    t_semester  number          NOT NULL,
    t_time      number          NOT NULL,
    t_loc       varchar2(20)    NOT NULL,
    t_max       number          NOT NULL,
    c_id        varchar2(20),
    c_id_no     number,
    p_id		varchar2(10),
    CONSTRAINT teach_pk  PRIMARY KEY (t_id),
    CONSTRAINT teach_fk  FOREIGN KEY (c_id, c_id_no) REFERENCES course (c_id, c_id_no),
    CONSTRAINT teach_fk2 FOREIGN KEY (p_id) REFERENCES professor (p_id)
);

insert into teach values ('001', 2023, 1, 1, '명신-206', 30, '102934', 001, '56789');
insert into teach values ('002', 2023, 1, 1, '명신-305', 50, '102229', 002, '56783');
insert into teach values ('003', 2023, 1, 2, '사회-509', 10, '102119', 001, '39230');
insert into teach values ('004', 2023, 1, 3, '명신-410', 20, '101098', 001, '23934');

insert into teach values ('005', 2023, 2, 3, '명신-410', 20, '101098', 001, '23934');

insert into teach values ('006', 2023, 2, 3, '명신-410', 20, '101098', 001, '23934');

create table enroll (
    e_id        varchar2(10)    NOT NULL,
    e_year      number          NOT NULL,
    e_semester  number          NOT NULL,
    s_id        varchar2(10),
    t_id		varchar2(10),
    t_max       number,
    CONSTRAINT enroll_pk  PRIMARY KEY (e_id),
    CONSTRAINT enroll_fk  FOREIGN KEY (s_id) REFERENCES student (s_id),
    CONSTRAINT enroll_fk2 FOREIGN KEY (t_id, t_max) REFERENCES teach (t_id, t_max)
);

insert into enroll values ('001', 2023, 1, '2012345', '001', 30);
insert into enroll values ('002', 2023, 1, '2212346', '002', 50);
insert into enroll values ('003', 2023, 1, '2112347', '003', 10);
insert into enroll values ('004', 2023, 1, '2012348', '004', 20);